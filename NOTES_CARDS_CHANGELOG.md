# Обновление: Карточки заметок

## Изменения

### 1. Новые компоненты
- **NoteCard.svelte** - Минималистичная карточка заметки в стиле карточек комнат
- **NotesGrid.svelte** - Сетка карточек заметок с адаптивной версткой

### 2. Функциональность
- ✅ Превью текста заметки (первые 100 символов)
- ✅ Подсчет количества слов
- ✅ Дата последнего обновления
- ✅ Индикаторы активных редакторов (кто сейчас редактирует)
- ✅ Поддержка содержимого из Yjs WebSocket
- ✅ Использование глобальных стилей кнопок

### 3. Дизайн
- Минималистичный дизайн без свечения
- Стили аналогичные карточкам комнат (#1A1A1A фон, #2A2A2A рамка)
- Плавные переходы при наведении
- Адаптивная сетка (3 колонки → 2 колонки → 1 колонка)

### 4. Система отслеживания редакторов
- **API endpoint**: `/api/notes/[id]/active-editors`
  - GET - получить активных редакторов
  - POST - пометить себя как активного редактора
  - DELETE - убрать себя из активных редакторов
- **ActiveEditorTracker** - автоматическое управление статусом
- Heartbeat каждые 30 секунд
- Автоматическое удаление через 60 секунд неактивности

### 5. Использование

```svelte
<NotesGrid 
  notes={roomData.notes}
  selectedNoteId={selectedNoteId}
  canEdit={canEdit}
  onNoteClick={handleNoteClick}
  onCreateNote={handleCreateNote}
  activeEditorsMap={activeEditorsMap}
/>
```

### 6. Глобальные стили
Карточки и кнопки теперь используют:
- `buttons.css` - глобальные стили кнопок (.btn, .btn--primary, .btn--secondary, .btn--sm)
- Цветовая схема: #1A1A1A, #242424, #2A2A2A, #7E7E7E, #FEB1FF
- Шрифт: Gilroy

### 7. Адаптивность
- Desktop: 3 колонки, 300px min
- Tablet: 2-3 колонки, 260px min  
- Mobile: 1 колонка, full width
- Карточки уменьшаются с 180px до 140px на мобильных
